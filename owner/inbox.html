<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Easy Rent - Inbox</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&family=Poppins:wght@400;600;800&display=swap"
      rel="stylesheet"
    />
    <!-- Font Awesome CDN -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
    />
    <style>
      :root {
        --primary-color: #82c9ff;
        --secondary-color: #6c757d;
        --light-gray: #f8f9fa;
        --border-color: #dee2e6;
        --success-color: #20115b;
        --logo-gradient-1: #7c4dff;
        --logo-gradient-2: #448aff;
      }
      * {
        box-sizing: border-box;
        font-family: "Inter", sans-serif;
      }
      body {
        margin: 0;
        display: flex;
        background: #f0f4f8;
        color: #1a1a1a;
      }
      .sidebar {
        width: 220px;
        background-color: #f0eded;
        padding: 20px;
        min-height: 100vh;
      }

      /* Updated Logo Styling */
      .logo-container {
        text-align: center;
        margin-bottom: 30px;
        padding-bottom: 15px;
        border-bottom: 2px solid #b8bcbe;
      }
      .logo {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 12px;
        text-decoration: none;
      }

      .logo-icon {
        background: linear-gradient(
          135deg,
          var(--logo-gradient-1) 0%,
          var(--logo-gradient-2) 100%
        );
        color: var(--white);
        width: 48px;
        height: 48px;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 12px;
        font-weight: bold;
        font-size: 24px;
        box-shadow: 0 4px 15px rgba(124, 77, 255, 0.3);
        position: relative;
        overflow: hidden;
      }

      .logo-icon::before {
        content: "ER";
        background: linear-gradient(45deg, #ffffff, #e0e7ff);
        -webkit-background-clip: text;
        background-clip: text;
        color: transparent;
        font-size: 26px;
        font-weight: 800;
      }

      .logo-text {
        font-size: 24px;
        font-weight: 800;
        color: var(--logo-gradient-1);
        line-height: 1.2;
        letter-spacing: -0.5px;
        font-family: "Poppins", sans-serif;
      }

      .sidebar a {
        display: flex;
        align-items: center;
        padding: 10px;
        margin: 10px 0;
        text-decoration: none;
        color: white;
        background-color: #89c8f8;
        border-radius: 5px;
        font-size: 16px;
        gap: 10px;
        transition: background 0.3s;
      }
      .sidebar a:hover {
        background-color: #69b9f6;
      }
      .main {
        flex: 1;
        padding: 30px;
      }
      .header {
        background-color: #260f45;
        color: #fff;
        padding: 10px 20px;
        margin: -30px -30px 30px;
        border-radius: 0 0 8px 8px;
      }
      .inbox-header {
        display: flex;
        flex-direction: column;
      }
      .inbox-header h1 {
        margin-bottom: 10px;
      }
      .full-width-divider {
        height: 1px;
        background-color: #e1e1e1;
        width: 100%;
        margin: 10px 0 25px;
      }
      .notification {
        background-color: #fff;
        border-radius: 12px;
        padding: 20px;
        margin-bottom: 30px;
        text-align: center;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
      }
      .notification h3 {
        font-size: 17px;
        font-weight: 600;
        color: #000;
        margin: 0 0 8px;
      }
      .notification p {
        font-size: 15px;
        color: #666;
        margin: 0;
      }
      .empty-state {
        text-align: center;
        color: #999;
        font-size: 15px;
        margin-top: 40px;
      }
      .chat-bar {
        position: fixed;
        bottom: 0;
        left: 220px;
        right: 0;
        background: white;
        padding: 15px;
        border-top: 1px solid #e1e1e1;
        display: flex;
        justify-content: center;
      }
      .chat-input {
        width: 90%;
        max-width: 800px;
        display: flex;
        gap: 10px;
      }
      .chat-input input {
        flex: 1;
        padding: 12px 15px;
        border: 1px solid #e1e1e1;
        border-radius: 20px;
        font-size: 15px;
      }
      .chat-input button {
        background: #007aff;
        color: white;
        border: none;
        border-radius: 20px;
        padding: 0 20px;
        font-weight: 500;
        cursor: pointer;
      }
      .chat-container {
        margin-bottom: 80px;
        min-height: 300px;
        max-height: 60vh;
        overflow-y: auto;
      }
      .message {
        background: #fff;
        padding: 10px 15px;
        border-radius: 18px;
        margin-bottom: 10px;
        max-width: 70%;
        box-shadow: 0 1px 1px rgba(0, 0, 0, 0.1);
        word-wrap: break-word;
      }
      .user-message {
        background: #007aff;
        color: white;
        margin-left: auto;
      }
      .received-message {
        background: #f1f1f1;
        margin-right: auto;
      }
      .message-time {
        font-size: 12px;
        color: #999;
        margin-top: 5px;
        text-align: right;
      }
    </style>
  </head>
  <body>
    <div class="sidebar">
      <!-- Updated Logo Section -->
      <div class="logo-container">
        <a href="../index.html" class="logo">
          <div class="logo-icon"></div>
          <span class="logo-text">Easy Rent</span>
        </a>
      </div>

      <a href="dashbord.html"><i class="fas fa-chart-line"></i> Dashboard</a>
      <a href="createrooms.html"><i class="fas fa-plus"></i> Add Property</a>
      <a href="myproperty.html"
        ><i class="fas fa-building"></i> My Properties</a
      >
      <a href="inbox.html"><i class="fas fa-envelope"></i> Inbox</a>
      <a href="setting.html"><i class="fas fa-user"></i> Profile Settings</a>
      <a
        href="loginowner.html"
        class="login-btn"
        onclick="handleLogout(); return false;"
        ><i class="fas fa-sign-in-alt"></i> Owner Login</a
      >
      <a href="../index.html" class="home-btn"
        ><i class="fas fa-home"></i> Back to Home</a
      >
    </div>

    <div class="main">
      <div class="header">
        <strong>🏗 Easy Rent: Evolution in Progress!</strong> — We're building
        something amazing—exciting improvements are on the way!
      </div>

      <div class="content">
        <div class="inbox-header">
          <h1>Inbox</h1>
          <div class="full-width-divider"></div>
        </div>
      </div>

      <div class="notification">
        <h3>Home Guide: Exhibition in Progress</h3>
        <p>We're building something amazing - improvements are coming soon!</p>
      </div>

      <div class="chat-container" id="chatContainer">
        <div class="empty-state">No messages yet. Start a conversation!</div>
      </div>
    </div>

    <!-- Chat input bar -->
    <div class="chat-bar">
      <div class="chat-input">
        <input
          type="text"
          id="messageInput"
          placeholder="Type your message here..."
        />
        <button id="sendButton"><i class="fas fa-paper-plane"></i> Send</button>
      </div>
    </div>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const chatContainer = document.getElementById("chatContainer");
        const messageInput = document.getElementById("messageInput");
        const sendButton = document.getElementById("sendButton");

        function removeEmptyState() {
          const emptyState = chatContainer.querySelector(".empty-state");
          if (emptyState) {
            emptyState.remove();
          }
        }

        function formatTime(date) {
          return date.toLocaleTimeString([], {
            hour: "2-digit",
            minute: "2-digit",
          });
        }

        function getBotReply(userMessage) {
          const replies = [
            "مرحبًا! كيف حالك اليوم؟ هل تبحث عن شقة للإيجار؟",
            ,
            " مرحبًا! أنا هنا لمساعدتك في إيجاد الشقة المثالية بتاعتك",
            ,
            "أتمنى أن تكون بخير! كيف يمكنني مساعدتك؟",
            "شكرًا على تواصلك! لدينا مجموعة من الشقق المتاحة.",
            "إذا كان لديك أي استفسار حول الشقق ، فلا تتردد في طرحه!",
            "نحن هنا لدعمك في إيجاد الشقة المثالية لك.",
            "هل لديك ميزانية معينة تبحث عنها؟",
            "نحن نقدم شققًا بمساحات وأسعار مختلفة، كيف يمكنني مساعدتك؟",
            "إذا كنت تبحث عن شقة، فأنا هنا لمساعدتك في ذلك.",
            "هل ترغب في معرفة المزيد عن الشقق المتاحة لديك",
            "كيف يمكنني مساعدتك في عملية الإيجار؟",
            "إذا كان لديك أي استفسار حول الأسعار أو المرافق، فلا تتردد في سؤالي.",
            "هل لديك نوع معين من الشقق في بالك؟",
            "نحن نقدم شققًا في مناطق مختلفة، هل لديك منطقة معينة تفضلها؟",
            "إذا كنت بحاجة إلى معلومات إضافية، فلا تتردد في طرحها.",
            "هل ترغب في معرفة المزيد عن خدماتنا المتعلقة بالإيجار؟",
            "أنا هنا لمساعدتك في أي شيء تحتاجه بخصوص الشقق.",
            "كيف يمكنني مساعدتك في إيجاد الشقة المثالية لك؟",
          ];
          // اختيار رد عشوائي من القائمة
          return replies[Math.floor(Math.random() * replies.length)];
        }

        function sendMessage() {
          const messageText = messageInput.value.trim();
          if (messageText) {
            removeEmptyState();

            // إنشاء عنصر الرسالة
            const messageElement = document.createElement("div");
            messageElement.className = "message user-message";

            const now = new Date();
            messageElement.innerHTML = `
                        ${messageText}
                        <div class="message-time">${formatTime(now)}</div>
                    `;

            chatContainer.appendChild(messageElement);
            messageInput.value = "";

            // Scroll to bottom
            chatContainer.scrollTop = chatContainer.scrollHeight;

            // الحصول على رد البوت
            const botReply = getBotReply(messageText);

            // محاكاة الرد بعد 1 ثانية
            setTimeout(() => {
              const replyElement = document.createElement("div");
              replyElement.className = "message received-message";
              replyElement.innerHTML = `
                          ${botReply}
                          <div class="message-time">${formatTime(
                            new Date()
                          )}</div>
                      `;
              chatContainer.appendChild(replyElement);
              chatContainer.scrollTop = chatContainer.scrollHeight;
            }, 1000);
          }
        }

        // إرسال رسالة ترحيبية عند تحميل الصفحة
        setTimeout(() => {
          const welcomeMessage = document.createElement("div");
          welcomeMessage.className = "message received-message";
          welcomeMessage.innerHTML = `
                      مرحبًا! كيف حالك اليوم؟ إذا كان لديك أي استفسار حول الشقق، فلا تتردد في طرحه.
                      <div class="message-time">${formatTime(new Date())}</div>
                  `;
          chatContainer.appendChild(welcomeMessage);
          chatContainer.scrollTop = chatContainer.scrollHeight;
        }, 500);

        // Send message on button click
        sendButton.addEventListener("click", sendMessage);

        // Send message on Enter key
        messageInput.addEventListener("keypress", function (e) {
          if (e.key === "Enter") {
            sendMessage();
          }
        });

        // Focus input field automatically
        messageInput.focus();
      });
    </script>
  </body>
</html>
